<div class="w3-bar">
  <div class="w3-bar-item w3-right">
    <img routerLink="/ResturantProfile" src="../../assets/img/pencil-edit-button.png" height="50px" />
  </div>
  <div class="w3-bar-item w3-right ">
    <img (click)="openDonationModal()" src="../../assets/img/donation1.png" height="50px" />
  </div>
</div>

<div class="w3-container">
  <div class="row">
    <div class="col-md-4">
      <img src="../../assets/img/restaurant-chocolat.jpg" width="70%" height="300px" class="thumbline"/>
    </div>
    <div class="col-md-4">
      <h3>{{restaurant.restaurantName}}</h3>
      <h5>
        <label>{{restaurant.mobile}}</label><br/>
        <label>{{restaurant.email}}</label><br/>
      </h5>
      <h3>
        {{restaurant.address}}
      </h3>
    </div>
    <div class="col-md-4">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3889.1811593652637!2d77.61217751482114!3d12.896069890905462!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bae14dc1797d309%3A0x5765710ab9ed9098!2sDeccan+Expressions%2C+2nd+Cross+Road%2C+Doctors+Layout%2C+Bommanahalli%2C+Bengaluru%2C+Karnataka+560076!5e0!3m2!1sen!2sin!4v1562349494697!5m2!1sen!2sin" width="100%" height="250" frameborder="0" style="border:0" allowfullscreen></iframe>
      </div>
  </div>
</div>

<div class="w3-bar">
  <div class="w3-bar-item w3-right">
    <button style="margin-right: 20px;" data-toggle="modal" href="#statusModal" (click)="fetchStatus()" class="btn btn-primary btn-md">Status</button>
  </div>
</div>

<h5 class="w3-black w3-padding">Donation Logs:</h5>
<!-- Food Requirement Log-->
<div class="w3-container w3-padding" style="margin: 10px">
    <!-- Single Requirement Log -->
    <div class=" w3-card-4 row w3-padding" style="margin-top: 20px" *ngFor="let log of restaurantLogs.logs" >
      <div class="col-md-6">
        <label><b><u>Availability Details</u></b></label>
        <table class="w3-table-all" >
           <tr>
             <th>Request Time</th>
             <td>{{log.date}}</td>
           </tr>
           <tr>
              <th>Total Availability</th>
              <td>{{log.restaurantStatus.foodAvailability}}</td>
           </tr>
           <tr>
              <th>Veg</th>
              <td>{{log.restaurantStatus.foodAvailability/2}}</td>
           </tr>
           <tr>
              <th>Non-Veg</th>
              <td>{{log.restaurantStatus.foodAvailability/2}}</td>
           </tr>
        </table>
      </div> 
      <div class="col-md-6">
          <label><b><u>Process Details</u></b></label>
          <table class="w3-table-all" >
             <tr>
               <th>Pick Up Time</th>
               <td>{{log.date}}</td>
             </tr>
             <tr>
                <th>Assigned Delivery Agent</th>
                <td>{{log.restaurantStatus.deliveryBoyName}}<br/>{{log.restaurantStatus.mobile}}</td>
             </tr>
             <tr>
                <th>Status</th>
                <td>
                  <select class="form-control" >
                    <option>Ready For Pick Up</option>
                    <option>Picked By Delivery Boy</option>
                  </select>
                </td>
             </tr>
          </table>
      </div>
    </div>
<!-- Resturant Donation Modal -->
<div class="w3-modal" id="donationModal">
  <div class="w3-modal-contant">
    <div class="row">
      <div class="col-md-3"></div>
      <div class="col-md-6">
        <h5 class="w3-padding w3-black">Donation<span (click)="closeDonationModal()" class="w3-text-red w3-right">&times;</span></h5>
        <div class="w3-container w3-padding w3-white " style="margin-top: -10px">
          <form #updateDetailsForm="ngForm">
            <table class="w3-table-all">
                <tr>
                  <th>Total Availability</th>
                  <td><input type="number" [(ngModel)]="foodAvailability" name="resturantName" placeholder="Enter Total Availability..." class="w3-input">
                  </td>
                </tr>
                <tr>
                  <th>Veg Availability</th>
                  <td><input type="number" name="resturantName" placeholder="Enter Veg Amount..." class="w3-input"></td>
                </tr>
                <tr>
                  <th>Non-Veg Availability</th>
                  <td><input type="number" name="resturantName" placeholder="Enter Non-Veg Amount..." class="w3-input"></td>
                </tr>
                <tr>
                  <th></th>
                  <td><button class="w3-btn w3-yellow w3-small w3-round" (click)="updateRestaurantDetails()">Update</button></td>
                </tr>
              </table>
              </form>
        </div>
      </div>
    </div>
  </div>
</div>
<!--End Of Resturant Donation Modal-->


<!--Modal Code-->
<div class="modal fade" id="statusModal">
  <div class="modal-dialog">
    <div class="modal-content">
    
      <!-- Modal Header -->
      <div class="modal-header">
        <h3 class="modal-title">Status</h3>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      
      <!-- Modal body -->
      <div class="modal-body">
    <table class="table table-striped">
      <tbody>
        <tr>
        <td>Food Availability</td>
        <td>{{foodStatus.logs.restaurantStatus.foodAvailability}}</td>
        </tr>
        <tr>
        <td>Delivery Boy Name</td>
        <td>{{foodStatus.logs.restaurantStatus.deliveryBoyName}}</td>
        </tr>
        <tr>
        <td>Delivery Boy Mobile</td>
        <td>{{foodStatus.logs.restaurantStatus.mobile}}</td>
        </tr>
        
      </tbody>
      </table>

      </div>
      
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>
      
    </div>
  </div>
</div>
    